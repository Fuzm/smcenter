<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>数据装载配置表详情</title>
<link href="../../static/plugin/easyui/themes/bootstrap/easyui.css" rel="stylesheet" type="text/css"/>
<link href="../../static/plugin/easyui/themes/icon.css" rel="stylesheet" type="text/css"/>
<link href="../../static/css/esaas-easyui-view.css" rel="stylesheet" type="text/css"/>
<script src="../../static/plugin/easyui/jquery.min.js" type="text/javascript"></script>
<script src="../../static/plugin/easyui/jquery.easyui.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../static/plugin/easyui/locale/easyui-lang-zh_CN.js" type="text/javascript"></script>
<script src="../../static/plugin/assets/jslib.util.js" type="text/javascript"></script>
<script src="../../static/plugin/assets/jslib.jquery.ajax.js" type="text/javascript"></script>
<script src="../../static/plugin/assets/jslib.easyui.util.js" type="text/javascript"></script>
<script src="../../ffres/dict/all.js" type="text/javascript"></script>
<a href="" target="_blank" id="commonLink" name="commonLink"></a>
</head>
<body class="easyui-layout">

	    <form id="ff" method="post">
	    	<div class="esaas-info-title">数据装载配置表信息</div>
	    	<table class="esaas-info-view-table">
			<tr>
				<td width="15%" align="right">数据库表名：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="tableName" data-options="required:true"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">表中文名称：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="tableCnname" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">数据表类型：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="tableType" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">数据装载方式：</td>
				<td width="35%"><select class="easyui-combobox"
					id="tableLoadMode" name="tableLoadMode"
					style="width: 100%; height: 25px;" disabled
					data-options="required:false,editable:false,valueField:'enname',textField:'cnname',data:BAT_TABLE_LOAD_MODE">
				</select></td>
			</tr>
			<tr>
				<td width="15%" align="right">供数系统名称：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="upSysname" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">文件路径：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="loadFromFile" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">是否允许条数为零：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="fileRowFlag" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">是否忽略警告：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="loadWarnFlag" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">差异比较方式：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="diffCompMethod" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">比较阀值(%)：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="limitPercent" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">差异处理方式：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="diffDealMethod" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">最后更新日期：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="lastModifyDate" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">配置标识符：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="pluginConfId" data-options="required:true"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">配置顺序：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="confSort" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">字段分隔符：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="loadSeparator" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">装载前执行语句：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="beforeLoadSql" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">装载后执行语句：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="afterLoadSql" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">文件编码格式：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="fileCharset" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
			<tr>
				<td width="15%" align="right">缓冲区大小(K)：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="loadBufferSize" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">装载失败处理方式：</td>
				<td width="35%"><select class="easyui-combobox"
					id="loadFaildDeal" name="loadFaildDeal"
					style="width: 100%; height: 25px;" disabled
					data-options="required:false,editable:false,valueField:'enname',textField:'cnname',data:BAT_FAILD_DEAL_TYPE">
				</select></td>
			</tr>
			<tr>
				<td width="15%" align="right">指定字段：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="loadFields" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
				<td width="15%" align="right">建表语句：</td>
				<td width="35%"><input class="easyui-textbox" type="text"
					name="createTableDdl" data-options="required:false"
					style="width: 100%; height: 25px;"></input></td>
			</tr>
	    	</table>
	    </form>
	    <div style="text-align:center;padding:15px">
			<a href="javascript:void(0)" class="easyui-linkbutton" onclick="closeForm()">&nbsp;关&nbsp;闭&nbsp;</a>
	    </div>
	</div>
	<script>	
		$(function() {
			var tableName = $.getUrlParam('tableName');
			var pluginConfId = $.getUrlParam('pluginConfId');
			$.restfulGet('../../api/plugin/load/conf/' + tableName + '/' + pluginConfId,null,function(data){
					$('#ff').form('load', {
						tableName : data.rows.tableName,
						tableCnname : data.rows.tableCnname,
						tableType : data.rows.tableType,
						tableLoadMode : data.rows.tableLoadMode,
						upSysname : data.rows.upSysname,
						loadFromFile : data.rows.loadFromFile,
						fileRowFlag : data.rows.fileRowFlag,
						loadWarnFlag : data.rows.loadWarnFlag,
						diffCompMethod : data.rows.diffCompMethod,
						limitPercent : data.rows.limitPercent,
						diffDealMethod : data.rows.diffDealMethod,
						lastModifyDate : data.rows.lastModifyDate,
						pluginConfId : data.rows.pluginConfId,
						confSort : data.rows.confSort,
						loadSeparator : data.rows.loadSeparator,
						beforeLoadSql : data.rows.beforeLoadSql,
						afterLoadSql : data.rows.afterLoadSql,
						fileCharset : data.rows.fileCharset,
						loadBufferSize : data.rows.loadBufferSize,
						loadFaildDeal : data.rows.loadFaildDeal,
						loadFields : data.rows.loadFields,
						createTableDdl : data.rows.createTableDdl
					});					
			});
		});
		function closeForm(){
			window.parent.JLEUtil.closewin();
		}
	</script>
</body>
</html>